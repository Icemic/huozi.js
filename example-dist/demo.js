!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/example-dist/",t(t.s=2)}([function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return u}),r.d(t,"d",function(){return o});var n="我与父亲不相见已二年余了，我最不能忘记的是他的背影。那年冬天，祖母死了，父亲的差使也交卸了，正是祸不单行的日子，我从北京到徐州，打算跟着父亲奔丧回家。到徐州见着父亲，看见满院狼藉的东西，又想起祖母，不禁簌簌地流下眼泪。父亲说，“事已如此，不必难过，好在天无绝人之路！”\n　　回家变卖典质，父亲还了亏空；又借钱办了丧事。这些日子，家中光景很是惨淡，一半为了丧事，一半为了父亲赋闲。丧事完毕，父亲要到南京谋事，我也要回北京念书，我们便同行。\n　　到南京时，有朋友约去游逛，勾留了一日；第二日上午便须渡江到浦口，下午上车北去。父亲因为事忙，本已说定不送我，叫旅馆里一个熟识的茶房陪我同去。他再三嘱咐茶房，甚是仔细。但他终于不放心，怕茶房不妥帖；颇踌躇了一会。其实我那年已二十岁，北京已来往过两三次，是没有甚么要紧的了。他踌躇了一会，终于决定还是自己送我去。我两三回劝他不必去；他只说，“不要紧，他们去不好！”\n　　",i="\n如同大部分北海道地区的地名由来，“札幌”这一地名也是起源于北海道当地的原住民阿伊努族的语言阿伊努语。关于札幌的名称起源有二种说法，一说认为札幌（さっぽろ）起源于阿伊努语中的“sat-poro-pet/サッ・ポロ・ペッ”，意指“干渴的大河”；另一说则认为起源于阿伊努语中的“sar-poro-pet/サリ・ポロ・ペッ”，意思是完全与前者颠倒的“有大片湿地的河流”。",u="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",o="你可以看到ℹ️绘制出来的emoji🌟与文本框中的样式一致。它也支持特殊的控制字符，如设置肤色👨🏽或将多个emoji拼合在一起的样式。👩‍👩‍👧，就像这样。"},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,i){t=Object.assign({},d,t);for(var l=t,p=l.fontFamily,h=l.gridSize,v=l.column,m=l.row,F=l.xInterval,y=l.yInterval,x=l.inlineCompression,g=l.forceGridAlignment,b=l.westernCharacterFirst,w=l.forceSpaceBetweenCJKAndWestern,S=l.fixLeftQuote,A=0,E=0,j=0,z=0,C=!1,B=0,D=!1,T=h,O=[],I=b,M=[],k=function(){A=0,j=0,z+=1,E+=T+y,T=h,C=!1,B=0,D=!1},q=[].concat(n(e),[{fontSize:12,character:"　"}]),R=0;R<q.length;R++){var L=q[R],P=L.fontSize,_=L.character;if(x&&C&&!o.a.includes(_)&&(A+=B/2+F,j+=.5,C=!1),/[ “”‘’]/.test(_)&&I)O.push(L);else if(r.i(a.a)(_)||/[\n “”‘’]/.test(_)){if(O.length){var Q=w?.25*h:0;A&&(A+=Q);var W=void 0,G=void 0,J=void 0,K=u(O,t,A,E,z,v*h,m),$=c(K,5);W=$[0],J=$[1],E=$[2],z=$[3],G=$[4],j=Math.ceil(J/(h+F)),A=j*(h+F),G||function(){A-J<Q&&(j+=1,A=j*h);var e=(Q+A-J)/2-Q;W=W.map(function(t){return t.x+=e,i?i(t)||t:t})}(),M.push.apply(M,n(W)),I=!1,O=[]}var U=!1;if(j>=v&&(U=!0,(!o.b.includes(_)||o.c.includes(_)||D)&&k()),"\n"!==_){s.font=P+"px "+p;var H=s.measureText(_).width,N=0,V=(P-h)/2,X=!1;g&&P!==h&&(N=+g*(P-h)/2,j+=N>0?Math.ceil(2*N/(h+F)):0,N=((1+Math.ceil(2*N/(h+F)))*(h+F)-P)/2,A+=N,j>=v&&!o.b.includes(_)&&(k(),X=!0));var Y=0;Y+=C||"“"!==_?0:P/2,S&&("“"!==_||f?"“"===_&&H===P&&(Y+=-P/2):Y+=-P/2);var Z=Object.assign({},L,{x:A+Y,y:E-V,width:H,height:P});M.push(i?i(Z)||Z:Z);var ee=N*(X?2:1);if(ee>h&&(ee-=h,j-=1),A+=ee,U&&o.b.includes(_)&&!o.d.includes(_)?(A+=P/2,(j+=.5)%1!=.5&&(D=!0)):x&&o.a.includes(_)&&!o.d.includes(_)?(A+=P/2+F*+C,j+=.5,C=!C):(A+=P+F,j+=1),T=Math.max(T,P),B=P,z>=m)break}else!U&&k()}else I=!0,O.push(L)}return M.pop(),M}function u(e,t,r,n,i,u,o){var a=t.fontFamily,c=t.gridSize,l=t.yInterval,f=t.letterSpacing,d=[],p=c,h="",v=[],m=!1;" "!==e[e.length-1].character&&e.push({fontSize:0,character:" "});var F=!0,y=!1,x=void 0;try{for(var g,b=e[Symbol.iterator]();!(F=(g=b.next()).done);F=!0){var w=g.value,S=w.fontSize,A=w.character;if(p=Math.max(p,S)," "===A){if(u-r<s.measureText(h).width&&(r=0,n+=p+l,i+=1,m=!0,i>=o))break;var E=!0,j=!1,z=void 0;try{for(var C,B=v[Symbol.iterator]();!(E=(C=B.next()).done);E=!0){var D=C.value,T=D.fontSize,O=(D.character,(T-c)/2);d.push(Object.assign({},D,{x:r,y:n-O})),r+=D.width+f}}catch(e){j=!0,z=e}finally{try{!E&&B.return&&B.return()}finally{if(j)throw z}}r+=.35*c,h="",v=[]}else{s.font=S+"px "+a;var I=s.measureText(A).width;h+=A,v.push(Object.assign({},w,{width:I,height:S}))}}}catch(e){y=!0,x=e}finally{try{!F&&b.return&&b.return()}finally{if(y)throw x}}return[d,r-.35*c,n,i,m]}t.a=i;var o=r(3),a=r(4),c=function(){function e(e,t){var r=[],n=!0,i=!1,u=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,u=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=document.createElement("canvas"),s=l.getContext("2d");s.font="18px sans-serif";var f=18===s.measureText("中").width,d={fontFamily:"sans-serif",gridSize:26,column:25,row:1/0,xInterval:0,yInterval:12,letterSpacing:0,inlineCompression:!0,forceGridAlignment:!0,westernCharacterFirst:!1,forceSpaceBetweenCJKAndWestern:!1,fixLeftQuote:!0}},function(e,t,r){"use strict";function n(e){var t=[],r="",n=!1,i=!0,u=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value;r&&d.includes(l)?(n="‍"===l,r+=l):r&&n?(n=!1,r+=l):r?(t.push(r),t.push(l),r=""):d.includes(l)?r=t.pop()+l:f.test(l)?r=l:t.push(l)}}catch(e){u=!0,o=e}finally{try{!i&&c.return&&c.return()}finally{if(u)throw o}}return t}function i(e,t){var i=n(e.replace(/\r\n/g,"\n").trim()).map(function(e){return{fontSize:+t.charFontSize||18,character:e}}),u=r.i(o.a)(i,{gridSize:+t.fontSize||18,column:+t.column||35,inlineCompression:void 0!==t.compress||t.compress,fixLeftQuote:"zh-TW"!==navigator.language&&void 0});console.log(u),l.clearRect(0,0,800*s,600*s),l.strokeStyle="#999";var a=!0,c=!1,f=void 0;try{for(var d,p=u[Symbol.iterator]();!(a=(d=p.next()).done);a=!0){var h=d.value;l.font=h.fontSize*s+"px sans-serif",l.textBaseline="hanging",l.fillText(h.character,h.x*s,h.y*s),t.stroke&&l.strokeRect(h.x*s,h.y*s,h.width*s,h.height*s)}}catch(e){c=!0,f=e}finally{try{!a&&p.return&&p.return()}finally{if(c)throw f}}}function u(e){textBox.textContent=1===e?a.a:2===e?a.b:3===e?a.c:a.d,p()}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(0),c=document.getElementById("app"),l=c.getContext("2d"),s=window.devicePixelRatio;c.width=c.width*s,c.height=c.height*s;var f=/([\uD800-\uDBFF][\uDC00-\uDFFF])/,d=["︎","️","‍","🏻","🏼","🏽","🏾","🏿"],p=function(e){var t={};$("#form").serializeArray().map(function(e){t[e.name]=e.value}),i(t.text,t)},h=0;$("#form").on("change input",function(e){h&&clearTimeout(h),h=setTimeout(p,300,e)}),window.fillTextArea=u,u(1)},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return u}),r.d(t,"d",function(){return o});var n="「」『』“”‘’（）【】〖〗〔〕［］｛｝⸺—…●•–～~～～·﹏《》〈〉＿/／。，、．：；！‼？⁇ ",i="。，、．：；！‼？⁇」』”’）】〗〕］｝》〉 ",u="「『“‘（【〖〔［｛《〈 ",o="‼⁇⸺—"},function(e,t,r){"use strict";function n(e){return u.test(e)}t.a=n;var i=["\\u1100-\\u11FF","\\u2E80-\\u2EFF","\\u2F00-\\u2FDF","\\u2FF0-\\u2FFF","\\u3000-\\u303F","\\u3040-\\u309F","\\u30A0-\\u30FF","\\u3100-\\u312F","\\u3130-\\u318F","\\u3190-\\u319F","\\u31A0-\\u31BF","\\u31F0-\\u31FF","\\u3200-\\u32FF","\\u3300-\\u33FF","\\u3400-\\u4DBF","\\u4DC0-\\u4DFF","\\u4E00-\\u9FFF","\\uAC00-\\uD7AF","\\uF900-\\uFAFF","\\uFE30-\\uFE4F","\\uFF00-\\uFFEF","\\u{1D300}-\\u{1D35F}","\\u{20000}-\\u{2A6DF}","\\u{2A700}-\\u{2B73F}","\\u{2B740}-\\u{2B81F}","\\u{2B820}-\\u{2CEAF}","\\u{2CEB0}-\\u{2EBEF}","\\u{2F800}-\\u{2FA1F}"],u=void 0;try{u=new RegExp("["+i.join("")+"]","u")}catch(e){u=new RegExp("["+i.slice(0,21).join("")+"]")}}])});